# 输入一个网址回车后的过程

### 1、域名解析
### 2、TCP连接
### 3、http数据传输
### 4、页面渲染

----

域名解析

- 本地查询
1、检查浏览器缓存中是否缓存过该域名对应的IP地址，当用户再次访问的时候，浏览器就会从缓存中查找该域名对用的IP地址，因为域名缓存不仅有大小限制，还有时间限制（TTL字段(生存时间，该字段指定IP包被路由器丢弃之前允许通过的最大网段数量。通俗的讲就是一条域名解析记录在DNS服务器中的存留时间)控制，一般是3600s,可以人为设置，设置过大可以提高域名解析稳定性和速度，一旦IP地址变化，那么用户将一段时间内无法正常访问到该网站。设置过小会造成频繁解析域名，延长解析时间），如果从缓存中找到了该IP地址，整个DNS查询结束。

2、如果没有找到，那么就从本机系统缓存中查找域名对应的IP地址，如果是window系统，则在C:\Windows\System32\drivers\hosts文件中查找，在Linux或者Mac系统中，hosts文件在/etc/hosts。当然了，用户可以手动绑定域名和IP地址，不过不建议这样操作。黑客可以通过恶意修改文件造成域名劫持，XP系统很容易被修改。如果找到，DNS域名解析结束。

- 远程查询
3、以上没有找到，那么本地域名解析结束，只能在联网远程请求查询域名解析。一般向本地域名服务器发出请求，如果用户连接的是校园网，那么域名解析系统就在用户学校机房里，如果连接的是电信移动或者联通的网络，那么本地域名解析就在本地区，由各自的运营商来提供服务。对于大部用户而言，域名解析过程到这里就差不多结束了。

4、本地域名服务器无法解析到的话，那么本地域名服务器想根域名服务器发起解析请求。如果是一个正常的网址，根域名服务器返回一个gTLD域名解析服务器地址（gTLD:Generic top-level domain，通用顶级域，常用的由.com、.cn、.org、.edu等），然后本地域名服务器向gTLD服务器发起请求，gTLD服务器解析后返回域名对应的name Server服务器地址（通常来说，name Server服务器就是用户请求的域名注册时的域名服务器），name Server服务器返回IP地址给本地服务器地址，本地服务器返回给用户并缓存该地址。


### [TCP连接](https://segmentfault.com/a/1190000014044351#articleHeader5)

### [http 与 https ，http1.x 与http2.x](https://blog.csdn.net/CrankZ/article/details/81239654)

### [页面渲染](https://www.cnblogs.com/andy4517/p/6404836.html)