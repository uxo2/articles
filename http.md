# HTTP 协议

- 一个运用在应用层的、基于c/s的、无状态的、面向对象的一种tcp/ip协议。

- 请求方式主要由GET(默认的请求访问URL)、POST(与GET相同，但是存储信息在body内)、PUT(传输文件)

## 该协议的传输方式

- GET   用于请求访问已经被url识别的资源，可以通过url传递参数，传输数据较少。侧重于想服务器请求数据，不安全，参数只支持ASCII，中文会乱码
- POST  与GET类似，侧重于向服务器发送数据。参数存放在请求实体body内，传输数据较多，安全，并且文件上传只能使用POST，支持任意标准字符集
- PUT 传输文件，保存对应的URL路径，与DELETE相反
- DELETE 删除对应的URL的文件，与PUT相反
- HEAD 获取报文首部，不返回报文主体。用于识别URL是否有效
- OPTIONS 查询该URL支持的请求方式
- TRACE

## 请求、响应报文格式

请求：

- 请求行： 请求方法、URL、HTTP版本信息等
- 请求首部字段
- 请求内容实体

响应：

- 状态行：HTTP版本、状态码、状态码对应的原因
- 响应首部报文
- 响应内容实体

## 状态码

- 1xx 建立连接的过程

- 2xx 请求成功

- 3xx 重定向

- 4xx 客户端错误

- 5xx 服务器错误

example:

- 200: 返回成功
- 204
- 206 续传
- 301 永久重定向
- 302 临时重定向
- 303 临时重定向，并要求客户必须使用GET传输
- 307 临时重定向，并要求客户端必须使用POST传输
- 400 请求报文错误，服务器无法识别
- 401 需要认证
- 403 禁止访问
- 404 服务器无法找到该资源
- 500 服务器内部错误
- 503 服务器繁忙

## 历史版本

### HTTP1.1版本

- 默认持久连接通信量，只要客户端或者服务器端任意一端未中断TCP连接，就一直保持连接，可以多次HTTP请求
- 管线换，客户端可以同时发送多个HTTP请求，无需顺序等待响应
- 断点续传原理。下载中断后继续下载数据，使用到Range 和 Content-Range俩个字段
```
举例：

请求头字段：
Range: bytes=5275648-   // 告诉服务器文件中这里开始上传....

响应头字段：
Content-Range： bytes 5275648-15143085/15143085

但是存在一个问题，续传的话可能间隔时间太长，而且服务器端的数据已经发生变化，这时候续传就没有必要了，必须重新下载。
这需要使用Last-Modified判断文件最后修改时间是否一致，当然HTTP还增加了文件的唯一标识ETag，如果ETag不同，则重新下载。
这是客户端的设计。

```

文章链接

- [文章1](http://www.mamicode.com/info-detail-1825350.html)

- [文章2](http://www.mamicode.com/info-detail-1825350.html)

- [文章3](https://www.cnblogs.com/sunny-sl/p/6529830.html)
